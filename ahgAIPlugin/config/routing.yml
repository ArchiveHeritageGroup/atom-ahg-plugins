# AI Plugin Routes (NER, Summarize)

# NER Routes
ahg_ai_ner_extract:
  url: /ai/ner/extract/:id
  param: { module: ai, action: extract }

ahg_ai_ner_review:
  url: /ai/ner/review
  param: { module: ai, action: review }

ahg_ai_ner_entities:
  url: /ai/ner/entities/:id
  param: { module: ai, action: getEntities }

ahg_ai_ner_update:
  url: /ai/ner/entity/update
  param: { module: ai, action: updateEntity }

ahg_ai_ner_create_actor:
  url: /ai/ner/create/actor
  param: { module: ai, action: createActor }

ahg_ai_ner_create_place:
  url: /ai/ner/create/place
  param: { module: ai, action: createPlace }

ahg_ai_ner_create_subject:
  url: /ai/ner/create/subject
  param: { module: ai, action: createSubject }

ahg_ai_ner_health:
  url: /ai/ner/health
  param: { module: ai, action: health }

ahg_ai_ner_bulk_save:
  url: /ai/ner/bulk-save
  param: { module: ai, action: bulkSave }

# Summarize Route
ahg_ai_summarize:
  url: /ai/summarize/:id
  param: { module: ai, action: summarize }

# Handwriting Text Recognition (HTR) Route
ahg_ai_htr:
  url: /ai/htr/:id
  param: { module: ai, action: htr }

# Legacy NER routes (backward compatibility)
ahg_ner_extract:
  url: /ner/extract/:id
  param: { module: ai, action: extract }

ahg_ner_review:
  url: /ner/review
  param: { module: ai, action: review }

ahg_ner_entities:
  url: /ner/entities/:id
  param: { module: ai, action: getEntities }

ahg_ner_bulk_save:
  url: /ner/bulk-save
  param: { module: ai, action: bulkSave }

ahg_ner_summarize:
  url: /ner/summarize/:id
  param: { module: ai, action: summarize }

# HTR (Handwriting Text Recognition) routes
ahg_ner_htr:
  url: /ner/htr/:id
  param: { module: ai, action: htr }

# ============================================================================
# LLM Description Suggestion Routes
# ============================================================================

# Generate suggestion
ahg_ai_suggest:
  url: /ai/suggest/:id
  param: { module: ai, action: suggest }

# Preview suggestion without saving
ahg_ai_suggest_preview:
  url: /ai/suggest/:id/preview
  param: { module: ai, action: suggestPreview }

# View single suggestion
ahg_ai_suggest_view:
  url: /ai/suggest/:id/view
  param: { module: ai, action: suggestView }

# Process suggestion decision (approve/reject)
ahg_ai_suggest_decision:
  url: /ai/suggest/:id/decision
  param: { module: ai, action: suggestDecision }

# Get suggestions for an object
ahg_ai_suggest_object:
  url: /ai/suggest/object/:id
  param: { module: ai, action: suggestObject }

# Suggestion review dashboard
ahg_ai_suggest_review:
  url: /ai/suggest/review
  param: { module: ai, action: suggestReview }

# LLM configurations
ahg_ai_llm_configs:
  url: /ai/llm/configs
  param: { module: ai, action: llmConfigs }

# LLM health check
ahg_ai_llm_health:
  url: /ai/llm/health
  param: { module: ai, action: llmHealth }

# Prompt templates
ahg_ai_templates:
  url: /ai/templates
  param: { module: ai, action: templates }

# ============================================================================
# AI Batch Queue Routes
# ============================================================================

# Batch queue dashboard
ahg_ai_batch:
  url: /ai/batch
  param: { module: ai, action: batch }

# Create new batch
ahg_ai_batch_create:
  url: /ai/batch/create
  param: { module: ai, action: batchCreate }

# View batch details
ahg_ai_batch_view:
  url: /ai/batch/:id
  param: { module: ai, action: batchView }
  requirements: { id: \d+ }

# Get batch progress (AJAX)
ahg_ai_batch_progress:
  url: /ai/batch/:id/progress
  param: { module: ai, action: batchProgress }
  requirements: { id: \d+ }

# Batch actions (start, pause, resume, cancel, retry)
ahg_ai_batch_action:
  url: /ai/batch/:id/action
  param: { module: ai, action: batchAction }
  requirements: { id: \d+ }

# Process next jobs (called by Gearman or cron)
ahg_ai_batch_process:
  url: /ai/batch/:id/process
  param: { module: ai, action: batchProcess }
  requirements: { id: \d+ }

# View individual job
ahg_ai_job_view:
  url: /ai/job/:id
  param: { module: ai, action: jobView }
  requirements: { id: \d+ }

# ============================================================================
# NER PDF Overlay Display Routes (Issue #20)
# ============================================================================

# PDF overlay viewer
ahg_ai_ner_pdf_overlay:
  url: /ai/ner/pdf-overlay/:id
  param: { module: ai, action: pdfOverlay }
  requirements: { id: \d+ }

# Get approved/linked entities for overlay
ahg_ai_ner_approved_entities:
  url: /ai/ner/approved-entities/:id
  param: { module: ai, action: getApprovedEntities }
  requirements: { id: \d+ }
